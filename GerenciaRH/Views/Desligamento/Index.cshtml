@model GerenciaRH.Model.UsuarioModel

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@section Scripts{

    <script type="text/javascript" src="~/Scripts/script.js"></script>

}
@using (Html.BeginForm("SalvarDesligamento", "Desligamento", FormMethod.Post))
{
    @Html.HiddenFor(x => x.UsuarioDesligamento.Racf)
    @Html.HiddenFor(x => x.Usuario.Racf)
    @Html.HiddenFor(x => x.UsuarioDesligamento.Email)
    @Html.HiddenFor(x => x.Usuario.Email)

    <div class="col-md-12 col-xl-12">
        <div class="col-md-12 CardFundoDesligamento">
            <div class="row">
                <div class="col-md-12">
                    <h2 class="font-weight-bold">Desligamento</h2>
                </div>
            </div>
            <div class="row">
                <div class="pl-3 pt-3">
                    <img src="~/Resources/Icons/pessoa_@Model.UsuarioDesligamento.IdUsuario .png" width="100" height="100" style="border-radius:50%" />
                </div>
                <div class="pl-3 mt-2">
                    <table>
                        <tr>
                            <td class="p-2">Nome: @Model.UsuarioDesligamento.NomeUsuario</td>
                        </tr>
                        <tr>
                            <td class="p-2">Cargo: @Model.UsuarioDesligamento.NomeCargo</td>
                        </tr>
                        <tr>
                            <td class="p-2">Racf: @Model.UsuarioDesligamento.Racf
                        </tr>
                    </table>
                </div>
            </div>
            <div class="row">
                <div class="pl-3">
                    <h4>Motivo de desligamento:</h4>
                    @Html.TextBoxFor(x => x.Usuario.Motivo, new { @class = "form-control border", @id = "txtMotivo", @required = true })
                </div>
            </div>
            <div class="row pt-3">
                <div class="col-md-12">
                    <div class="row">
                        <div class="col-md-6 pl-3 pb-3">
                            <form>
                                <label for="comentarioColaboradorDesligado">Comentário de desligamento:</label>
                                <div class="form-group CardDesligamentoComentario col-md-8">
                                    @Html.TextAreaFor(x => x.ComentarioDesligamento, new { @class = "form-control col-md-12", @rows = "6", @id = "comentarioColaboradorDesligado", @name = "comentario", @maxlength = "400" })

                                </div>
                            </form>
                            <p><label for="review"></label> <small class="caracteres"></small></p>
                        </div>
                        <div class="col-md-6">
                            <label for="cardRequerente">Requerido por:</label>
                            <div class="row">
                                <div class="row CardDesligamentoComentario" id="cardRequerente">
                                    <div class="pt-2">
                                        <img src="~/Resources/Icons/pessoa_@Model.Usuario.IdUsuario .png" width="100" height="100" style="border-radius:50%" />
                                    </div>
                                    <div class="pl-4">
                                        <table>
                                            <tr>
                                                <td class="p-2">Nome: @Model.Usuario.NomeUsuario</td>
                                            </tr>
                                            <tr>
                                                <td class="p-2">Cargo: @Model.Usuario.NomeCargo</td>
                                            </tr>
                                            <tr>
                                                <td class="p-2">Racf: @Model.Usuario.Racf
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="row pb-3">
                        <div class="col-md-10">
                        </div>
                        <div class="col-md-2">
                            <button class="btn btn-success" type="button" data-toggle="modal" data-target="#modalDesejaCancelar">Cancelar</button>
                            <button class="btn btn-danger" type="submit">Desligar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--MODAL-->
    <div class="modal fade" id="modalDesejaCancelar" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="false">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Cancelar Desligamento?</h5>
                </div>
                <div class="modal-body">
                    <p>Tem certeza que deseja cancelar o desligamento?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick="location.href='@Url.Action("Index","Home")'">Retornar para home</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Continuar</button>
                </div>
            </div>
        </div>
    </div>
}

